<%= simple_form_for [@flat, @booking], data: { controller: 'flatpickr booking', price_per_night: @flat.price_per_night  }, url: flat_bookings_path(@flat) do |f| %>
  <%= f.input :start_date, as: :string, html5: true, input_html: {data: { flatpickr_target: "startDate", booking_target: "startDate" }, value: @booking.start_date || Date.today}, label: 'Date d\'arrivée' %>
  <%= f.input :end_date, as: :string, html5: true, input_html: {data: { flatpickr_target: "endDate", booking_target: "endDate", action: "change->booking#calculatePrice" }, id: 'end_time',value: @booking.end_date || Date.today + 1}, label: 'Date de départ' %>
  <%= f.button :submit, "Réserver", class: "btn btn-primary btn-block", style: "width:100%;" %>

  <div class="d-flex justify-content-between mt-3 px-3 text-gray">
    <div data-booking-target="countofdays">
      </div>
    <div data-booking-target="price">
      </div>
  </div>

  <div class="d-flex justify-content-between mt-2 px-3 text-gray">
    <div>
      Frais de service
    </div>
    <div data-booking-target="service">
    </div>
  </div>

  <div class="d-flex justify-content-between mt-2 pb-3 px-3 border-bottom text-gray">
    <div>
      Taxes
    </div>
    <div> 10 €
    </div>
  </div>

  <div class="d-flex justify-content-between mt-3 pb-3 px-3 border-bottom text-bold">
    <div>
      Total
    </div>
    <div data-booking-target="total">
    </div>
  </div>


<% end %>
